<%- include('../layouts/header') %>  <%- include('../layouts/head-links') %>


<div class="container">
  <div class="line-break text-center py-4">
    <span class="shadow-heading">Change Password</span>
  </div>
  <div class="row mb-5 pt-4">
    <span class="text-center pb-3" style="font-size: 0.8rem; text-transform: none;">
        <p class="text-danger mt-0 pt-4 fw-bold text-uppercase"><%= locals.errorMessage %></p>
    </span>
    
    <div class="col-lg-5 mx-auto">        
      <form action="" method="post">
            <div class="mb-3">
                  <input
                    required
                    class="form-control"
                    id="form-holder1"
                    placeholder="Enter Current Password"
                    name="currentPassword"
                    type="password"
                  />
            </div>
            <div class="mb-3">
                  <input
                        required
                        class="form-control"
                        id="newPassword"
                        placeholder="Enter New Password"
                        name="newPassword"
                        type="password"
                        minlength="8"
                  />
            </div>

            <div class="mb-3">
                   <input
                          required
                          class="form-control"
                          id="confirmPassword"
                          placeholder="Confirm Password"
                          name="confirmPassword"
                          type="password"
                          pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$"
                          onkeyup="passwordMatch()"
                   />
            </div>

             <span
            id="passwordmatch"
            class="text-danger rounded mb-3"
            style="font-size: 0.75rem; text-transform: none"
          ></span>
        <input type="submit" class="btn btn-dark w-100" value="Change Password" onclick="con"/>
      </form>
    </div>
  </div>
</div>
</section>

<footer class="bg-theme">
  <div
    class="container links pt-4 pb-2 row mx-auto line-break d-flex justify-content-around"
  >
  <% if (typeof admin !== "undefined") { %>
    <a class="col-lg-3 pb-2 text-center" href="">Change Password</a>
<% } else { %>
    <a class="col-lg-3 pb-2 text-center" href="/manager/changePassword">Forgot Password</a>
<% } %>

    <a class="col-lg-3 pb-2 text-center" href="<%if(admin){%>/manager<%}else{%>/admin<%}%>"> <%if(admin){%>Manager Sign In<%}else{%>Admin sign In<%}%> </a>
    <a class="col-lg-3 pb-2 text-center" href="#">Privacy Policy</a>
    <a class="col-lg-3 pb-2 text-center" href="#">Terms and Conditions</a>
  </div>
  <div class="copyright bg-theme py-2 text-center">
    <span style="color: white;">Copyright Â© 2023 | LAP4YOU | Made by <a href="https://rishikesht1245.github.io/Rishikesh_website/">Rishikesh T</a></span>
  </div>
</footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>


    <script src="/public/js/admin/admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  if ( window.history.replaceState ) {
 window.history.replaceState( null, null, window.location.href );
  }
</script>

<script>

      // confirm password match
      function passwordMatch(){
        const inputPassword = $("#newPassword").val();
        const confirmPassword = $("#confirmPassword").val();
        if(inputPassword !== confirmPassword){
          $("#submitButton").prop("disabled", true);
          $("#passwordmatch").html(
            '<i class="fa fa-exclamation"></i>Password doesnot match'
          );
        }else{
          $("#submitButton").prop("disabled", false);
          $("#passwordmatch").empty();
        }
      }
      </script>
      
      


</body>
</html>
